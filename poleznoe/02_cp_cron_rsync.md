# üóÇ –í–µ—Ä—Å–∏–æ–Ω–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ —Å –ø–æ–º–æ—â—å—é `cp` –∏ `rsync`

[![Platform](https://img.shields.io/badge/platform-Linux-lightgrey?style=flat-square\&logo=linux)](https://www.linux.org/)
[![Tested](https://img.shields.io/badge/tested%20on-Ubuntu%2024.04%20|%20Debian%2012-orange?style=flat-square)](https://www.debian.org/)
[![Tool](https://img.shields.io/badge/tool-cp-blue?style=flat-square)](https://man7.org/linux/man-pages/man1/cp.1.html)
[![Tool](https://img.shields.io/badge/tool-rsync-green?style=flat-square)](https://man7.org/linux/man-pages/man1/rsync.1.html)

---

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

* [–í–≤–µ–¥–µ–Ω–∏–µ](#-–≤–≤–µ–¥–µ–Ω–∏–µ)
* [–û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cp –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è](#-–æ—Å–Ω–æ–≤–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã-cp-–¥–ª—è-–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–≥–æ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è)
* [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cp](#-–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è-cp)

  * [–ü—Ä–æ—Å—Ç–æ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ](#–ø—Ä–æ—Å—Ç–µ–π—à–µ–µ-—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
  * [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ-—Å-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º-—Å—É—Ñ—Ñ–∏–∫—Å–æ–º)
* [–°—Ä–∞–≤–Ω–µ–Ω–∏–µ cp –∏ rsync](#-—Å—Ä–∞–≤–Ω–µ–Ω–∏–µ-cp-–∏-rsync)
* [–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å cron](#-–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è-—Å-cron)
* [–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: SSH](#-–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π-–ø—Ä–∏–º–µ—Ä-ssh)
* [–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞](#-–ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞)
* [–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ](#-–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ)

---

## üìñ –í–≤–µ–¥–µ–Ω–∏–µ

–ö–æ–º–∞–Ω–¥–∞ `cp` –∏–∑–≤–µ—Å—Ç–Ω–∞ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π Linux –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤**, –Ω–æ –æ–Ω–∞ —É–º–µ–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å **–≤–µ—Ä—Å–∏–æ–Ω–Ω—ã–µ —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏**, —á—Ç–æ –æ—Å–æ–±–µ–Ω–Ω–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤.

> [!TIP]
> –í–µ—Ä—Å–∏–æ–Ω–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –±–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Git –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Å–∏—Å—Ç–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π.

---

## üîë –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã cp –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä   | –û–ø–∏—Å–∞–Ω–∏–µ                                                       |
| ---------- | -------------------------------------------------------------- |
| `--backup` | –°–æ–∑–¥–∞—ë—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é —Ü–µ–ª–µ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ –µ–≥–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—å—é.  |
| `--suffix` | –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—É—Ñ—Ñ–∏–∫—Å –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ —Ñ–∞–π–ª–∞. |

> [!IMPORTANT]
> –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–æ–ª—É—á–∞—é—Ç —Å—É—Ñ—Ñ–∏–∫—Å `~` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `file~`), –µ—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —É–∫–∞–∑–∞–ª —Å–≤–æ–π.

---

## ‚öôÔ∏è –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è cp

### –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cp --backup=numbered /path/to/source/file /path/to/destination/
```

–ü—Ä–∏–º–µ—Ä –¥–ª—è SSH:

```bash
cp --backup=numbered /etc/ssh/sshd_config /data/backup/
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
sshd_config.~1~
sshd_config.~2~
...
```

---

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º

```bash
cp --backup=numbered --suffix=.bak /path/to/source/file /path/to/destination/
```

–ü—Ä–∏–º–µ—Ä:

```bash
cp --backup=numbered --suffix=.bak /etc/ssh/sshd_config /data/backup/
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:

```
sshd_config.bak.1
sshd_config.bak.2
...
```

> [!TIP]
> –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é.

---

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ cp –∏ rsync

| –§—É–Ω–∫—Ü–∏—è                            | cp             | rsync                              |
| ---------------------------------- | -------------- | ---------------------------------- |
| –í–µ—Ä—Å–∏–æ–Ω–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ             | ‚úÖ —Å `--backup` | ‚úÖ —Å `--backup` –∏ `--suffix`        |
| –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π | ‚úÖ —Å `-r`       | ‚úÖ —Å `-a` (–∞—Ä—Ö–∏–≤)                   |
| –ü–µ—Ä–µ–¥–∞—á–∞ –ø–æ —Å–µ—Ç–∏                   | ‚ùå              | ‚úÖ —á–µ—Ä–µ–∑ `rsync://` –∏–ª–∏ `ssh`       |
| –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ           | ‚ùå              | ‚úÖ –∫–æ–ø–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã |
| –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è                      | ‚úÖ —á–µ—Ä–µ–∑ cron   | ‚úÖ —á–µ—Ä–µ–∑ cron                       |

> [!TIP]
> –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `rsync` –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –∏–ª–∏ –ø–µ—Ä–µ–¥–∞—á–∏ –Ω–∞ —É–¥–∞–ª—ë–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä.

–ü—Ä–∏–º–µ—Ä `rsync` —Å –≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å—é:

```bash
rsync -av --backup --suffix=".bak" /etc/ssh/sshd_config /data/backup/
```

---

## ‚è∞ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å cron

–ß—Ç–æ–±—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ —Ñ–∞–π–ª–æ–≤:

1. –û—Ç–∫—Ä–æ–π—Ç–µ crontab:

```bash
crontab -e
```

2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–¥–∞–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00:

```cron
0 2 * * * cp --backup=numbered --suffix=.bak /etc/ssh/sshd_config /data/backup/
```

> [!TIP]
> –ú–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å —Å –¥–∞—Ç–æ–π –≤ —Å—É—Ñ—Ñ–∏–∫—Å–µ:

```bash
cp --backup=numbered --suffix=".$(date +%F).bak" /etc/ssh/sshd_config /data/backup/
```

–†–µ–∑—É–ª—å—Ç–∞—Ç: `sshd_config.2025-10-03.bak.1`

---

## üõ°Ô∏è –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä: SSH

1. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏ —Å –Ω—É–º–µ—Ä–∞—Ü–∏–µ–π:**

```bash
cp --backup=numbered /etc/ssh/sshd_config /data/backup/
```

2. **–° –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º:**

```bash
cp --backup=numbered --suffix=.bak /etc/ssh/sshd_config /data/backup/
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

* üìå –ü–æ–¥–¥–µ—Ä–∂–∫–∞ **–∏—Å—Ç–æ—Ä–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤**
* üìå **–ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ª—É—á–∞–π–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–Ω–∏—è**
* üìå –ü—Ä–æ—Å—Ç–∞—è **–≤–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å** –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º –∫–æ–Ω—Ç—Ä–æ–ª—è –≤–µ—Ä—Å–∏–π
* üìå –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å **–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏** —á–µ—Ä–µ–∑ cron

---

## üí° –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

* –†–µ–∫—É—Ä—Å–∏–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π:

```bash
cp -r --backup=numbered /etc/nginx /data/backup/
```

* –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `rsync` –¥–ª—è —É–¥–∞–ª—ë–Ω–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤:

```bash
rsync -av --backup --suffix=".$(date +%F).bak" /etc/nginx/ remote:/backup/nginx/
```

* –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--verbose` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–≥–æ –≤—ã–≤–æ–¥–∞:

```bash
cp -v --backup=numbered /etc/ssh/sshd_config /data/backup/
```
