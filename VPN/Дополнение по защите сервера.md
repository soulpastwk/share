# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–µ—Ä–≤–µ—Ä–∞ üöÄ

## üîÑ 1. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã
```bash
apt update && apt upgrade -y
apt dist-upgrade -y
do-release-upgrade
```

## üì¶ 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–∞–∫–µ—Ç–æ–≤ (–º–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å)
```bash
apt install net-tools fail2ban glances htop nano mc lsof iperf3 dialog build-essential libpam0g-dev libssl-dev -y
```

## üîí 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH
1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª:
```bash
nano /etc/ssh/sshd_config
```

2. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```bash
port 22456
Banner none
PrintMotd no
DebianBanner no
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–∏—Å:
```bash
systemctl restart ssh
```

---

## üõ°Ô∏è 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∞–µ—Ä–≤–æ–ª–∞ (iptables)
### –û—á–∏—Å—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª
```bash
iptables -F
iptables -X
iptables -t nat -F
iptables -t nat -X
iptables -t mangle -F
iptables -t mangle -X
```

### –ü–æ–ª–∏—Ç–∏–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
```bash
iptables -P INPUT DROP
iptables -P FORWARD DROP
iptables -P OUTPUT ACCEPT
```

### –†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–º–µ–Ω—è–µ–º –Ω–∞ —Å–≤–æ–∏ –ø–æ—Ä—Ç—ã)
```bash
iptables -A INPUT -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
iptables -A INPUT -i lo -j ACCEPT
iptables -A INPUT -p tcp --dport 22456 -j ACCEPT
iptables -A INPUT -p tcp --dport 8443 -j ACCEPT
iptables -A INPUT -p tcp --dport 60555 -j ACCEPT
iptables -A INPUT -p tcp -s 192.168.1.1 --dport 5201 -j ACCEPT
iptables -A INPUT -p icmp -j DROP
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª
```bash
netfilter-persistent save
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```bash
nft list ruleset
```

---

## üóëÔ∏è 5. –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —è–¥–µ—Ä
```bash
apt purge $(dpkg --list | grep linux-image | awk '{print $2}' | grep -v $(uname -r))
apt autoremove --purge -y
```

## üåê 6. –û—Ç–∫–ª—é—á–µ–Ω–∏–µ IPv6
```bash
echo "GRUB_CMDLINE_LINUX=\"ipv6.disable=1\"" | tee -a /etc/default/grub
update-grub
reboot
```

---
