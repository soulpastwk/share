# ‚ö°Ô∏è Fixing Ubuntu Network Interface (/32 ‚Üí /24 Hybrid Mode)

–ö–æ–≥–¥–∞ –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤—ã–¥–∞—ë—Ç IP —Å –º–∞—Å–∫–æ–π **/32**, –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã  
—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å–µ—Ç–∏ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤. –†–µ—à–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å —Å –º–∞—Å–∫–æ–π **/24**,  
—Å–æ—Ö—Ä–∞–Ω–∏–≤ –ø—Ä–∏ —ç—Ç–æ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π `/32` –¥–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞.  

---

## üöÄ –†–µ—à–µ–Ω–∏–µ

### üìÇ –§–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç–∫—Ä–æ–π `/etc/network/interfaces` –∏ –ø—Ä–æ–ø–∏—à–∏ —Å–ª–µ–¥—É—é—â–µ–µ:

```ini
# Loopback
auto lo
iface lo inet loopback

# –û—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
auto ens3
iface ens3 inet static
    address 191.153.48.50/24
    gateway 10.0.0.1
    dns-nameservers 30.56.10.10

    post-up ip addr add 191.153.48.50/32 dev ens3
    pre-down ip addr del 191.153.48.50/32 dev ens3
````

---

## üõ† –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ

–°–æ—Ö—Ä–∞–Ω–∏ —Ñ–∞–π–ª –∏ –ø—Ä–∏–º–µ–Ω–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

```bash
ifdown ens3 && ifup ens3
```

> ‚ö†Ô∏è –ï—Å–ª–∏ —Ä–∞–±–æ—Ç–∞–µ—à—å –ø–æ SSH, –ª—É—á—à–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `reboot`, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –æ–±—Ä—ã–≤–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞

–ü—Ä–æ–≤–µ—Ä—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:

```bash
ip -c -br a
```

–ü—Ä–∏–º–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞:

```
lo    UNKNOWN  127.0.0.1/8
ens3  UP       191.153.48.50/24 191.153.48.50/32
```

–ü—Ä–æ–≤–µ—Ä—è–µ–º –º–∞—Ä—à—Ä—É—Ç –¥–æ Google DNS:

```bash
traceroute 8.8.8.8
```

---

## üéØ –ò—Ç–æ–≥

* üü¢ –°–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º –ø–æ `/32`.
* üü¢ –î–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥—Å–µ—Ç—å `/24`.
* üü¢ –û—à–∏–±–æ–∫ `ifup/ifdown` –±–æ–ª—å—à–µ –Ω–µ –±—É–¥–µ—Ç.
* üü¢ –°–µ—Ç–∏ –∏ VPN —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–µ–µ.

---

## ‚ùì FAQ

### üîπ –ü–æ—á–µ–º—É —É –º–µ–Ω—è IP —Å –º–∞—Å–∫–æ–π `/32`?

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ —Ö–æ—Å—Ç–∏–Ω–≥-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤—ã–¥–µ–ª—è—é—Ç –∞–¥—Ä–µ—Å–∞ —Ç–∞–∫, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –≤–∏–¥–µ–ª —Ç–æ–ª—å–∫–æ **—Å–≤–æ–π –æ–¥–∏–Ω IP**,
–∞ –¥–æ—Å—Ç—É–ø –∫ —à–ª—é–∑—É (`gateway`) –æ—Ä–≥–∞–Ω–∏–∑—É—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–æ–º. –≠—Ç–æ —ç–∫–æ–Ω–æ–º–∏—Ç IP-–ø—É–ª—ã –∏ —É–ø—Ä–æ—â–∞–µ—Ç –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É.

---

### üîπ –ß—Ç–æ –Ω–µ —Ç–∞–∫ —Å `/32`?

* –°–µ—Ä–≤–µ—Ä ¬´–Ω–µ –∑–Ω–∞–µ—Ç¬ª –æ —Å–≤–æ–µ–π –ø–æ–¥—Å–µ—Ç–∏, –¥—É–º–∞–µ—Ç —á—Ç–æ –æ–Ω –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω.
* –õ–æ–∫–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã –∏ VPN –º–æ–≥—É—Ç –ø–∞–ª–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.
* –°–µ—Ç–µ–≤—ã–µ —Ç–µ—Å—Ç—ã (–∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏) —á–∞—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç ¬´–Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ¬ª –æ–∫—Ä—É–∂–µ–Ω–∏–µ.

---

### üîπ –ß—Ç–æ –¥–∞—ë—Ç –≥–∏–±—Ä–∏–¥ `/32 + /24`?

* –î–ª—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤—Å—ë –æ—Å—Ç–∞—ë—Ç—Å—è –∫–∞–∫ –±—ã–ª–æ ‚Äî `/32`.
* –î–ª—è –û–° –∏ —Å–µ—Ä–≤–∏—Å–æ–≤ —Å–µ—Ä–≤–µ—Ä –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ö–æ—Å—Ç –≤ —Å–µ—Ç–∏ `/24`.
* –ü—Ä–æ–±–ª–µ–º—ã —Å VPN-—Ñ–∏–Ω–≥–µ—Ä–ø—Ä–∏–Ω—Ç–æ–º, DNS –∏ —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –∏—Å—á–µ–∑–∞—é—Ç.

---

### üîπ –ê –µ—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –º–µ–Ω—è—Ç—å?

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.
–ù–æ:

* –ß–∞—Å—Ç—å —Å–∞–π—Ç–æ–≤/—Å–µ—Ä–≤–∏—Å–æ–≤ –º–æ–∂–µ—Ç ¬´–ø–∞–ª–∏—Ç—å¬ª –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å–µ—Ç–∞–ø.
* –ò–Ω–æ–≥–¥–∞ –ª–æ–º–∞–µ—Ç—Å—è MTU/PMTU.
* –°–ª–æ–∂–Ω–µ–µ –¥–µ–±–∞–∂–∏—Ç—å VPN, DNS –∏ firewall.

---

‚ú® –¢–µ–ø–µ—Ä—å —Ç–≤–æ–π —Å–µ—Ä–≤–µ—Ä ¬´–Ω–µ –ø–∞–ª–∏—Ç—Å—è¬ª –∫–∞–∫ \`/32 only host¬ª –∏ –¥—Ä—É–∂–∏—Ç –∏ —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º, –∏ —Å —Å–µ—Ä–≤–∏—Å–∞–º–∏.
